### 诊断服务介绍 UDS Service
1. 功能划分：
	1. 0x01-0x0A：给OBD使用。
	2. ![image.png|800](https://jiao-working-bucket1.oss-cn-beijing.aliyuncs.com/%E8%AF%8A%E6%96%AD%E6%9C%8D%E5%8A%A1%E7%AE%80%E4%BB%8B.png)
2.诊断模式：请求-响应
	![image.png|800](https://jiao-working-bucket1.oss-cn-beijing.aliyuncs.com/%E8%AF%8A%E6%96%AD%E8%AF%B7%E6%B1%82%E5%93%8D%E5%BA%94%E6%A0%BC%E5%BC%8F.png)
3. 一些诊断服务
	1.  10、11、27服务
	![image.png|800](https://jiao-working-bucket1.oss-cn-beijing.aliyuncs.com/20240102102109.png)
	2. 28服务：对非诊断报文的接收和发送进行开关操作
			用于提升刷新操作的速度：诊断报文的ID一般大于许多通信报文，ID越小优先级越高，为了快速刷新，就使用28服务关闭其他节点发送报文。
			注意：对于网络管理报文，只能关闭发送，不能关闭接收
			也是先发肯定响应，再去进行具体的开关操作
			存在5种子服务：根据关闭的方向（T/R）和关闭的范围划分
			![image.png|800](https://jiao-working-bucket1.oss-cn-beijing.aliyuncs.com/28%E6%9C%8D%E5%8A%A1%E5%BC%80%E5%85%B3%E6%A8%A1%E5%BC%8F.png)
	3.  3E服务：告诉诊断节点，诊断仪还在线，让控制器保持在非默认会话，不用从非默认会话切换到默认回话
			背景：在非默认会话一段时间（S3时间）中没有任何操作就会自动切换回默认回话
			使用场景：诊断刷新时，使用28服务关闭其他节点的收发非诊断报文的操作，此时其他节点进入非默认会话状态，为了不让其他节点恢复为默认会话状态，需要向多个ECU节点请求3E服务，此时进行功能寻址。
	4. 85服务：停止或恢复ECU中DTC状态的更新，但是14服务不受影响
			使用场景：刷新时，ECU不会向外发送报文，其他ECU需要此ECU的信息，此时收不到报文，就会报故障。此时，使用85服务，就停止了其他ECU故障的管理，避免了误报。刷新完成后，复位就行。
			子服务：on off
	5. 87服务：控制诊断仪和控制器之间的带宽。对于Can，就是控制波特率。
		![image.png|800](https://jiao-working-bucket1.oss-cn-beijing.aliyuncs.com/87%E6%9C%8D%E5%8A%A1%E8%AF%B7%E6%B1%82%E5%93%8D%E5%BA%94%E8%BF%87%E7%A8%8B.png)
	6. 22服务：读取DID，一次可以读多个
	7. 2E服务：通过DID写数据：写到特定地址或给应用。
	8. 23服务：和3D是一对。通过地址读数据：会给地址和读取的数据的长度
	9. 3D服务：在给定地址写数据：会响应写入的地址和数据长度
	10. 2A服务：和22类似，主要在开发阶段使用。
	11. 2C服务：动态定义DID的数据：提前有一个DID，初始化阶段里面没有数据，就可以通过2C添加数据。
			添加数据方式：1.将其他已经定义好的DID的数据取一段放到这个DID；2.根据地址取数据放到这个DID
			使用场景：开发阶段，实时观测不同的DID中的数据
			PS:动态只能写不能读，要读，就去原始的DID或者地址读取
	12. 14服务：清除DTC，可以按组清除，也可以按个清除，或者全部清除（422）；高版本的只支持全部清除
			使用场景：修好车后，14服务清除故障码，再跑看看有没有新的DTC
	13. 19服务：读取数据
			子服务：![image.png|800](https://jiao-working-bucket1.oss-cn-beijing.aliyuncs.com/19%E6%9C%8D%E5%8A%A1%E8%87%AA%E6%9C%8D%E5%8A%A1.png)
						
	1. 

4. 

	